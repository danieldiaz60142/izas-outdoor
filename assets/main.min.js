function focusVisiblePolyfill(){let e=["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Space","Escape","Home","End","PageUp","PageDown"],t=null,s=null;window.addEventListener("keydown",t=>{e.includes(t.code)&&(s=!1)}),window.addEventListener("mousedown",()=>{s=!0}),window.addEventListener("focus",()=>{t&&t.classList.remove("is-focused"),s||(t=document.activeElement).classList.add("is-focused")},!0)}try{document.querySelector(":focus-visible")}catch(e){focusVisiblePolyfill()}function debounce(e,t=300){let s;return(...i)=>{clearTimeout(s),s=setTimeout(()=>e.apply(this,i),t)}}function setViewportHeight(){document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`)}function setHeaderHeight(){let e=document.getElementById("shopify-section-header");if(!e)return;let t=e.offsetHeight,s=document.getElementById("shopify-section-announcement");s&&(t+=s.offsetHeight),document.documentElement.style.setProperty("--header-height",`${t}px`)}function setScrollbarWidth(){document.documentElement.style.setProperty("--scrollbar-width",`${window.innerWidth-document.documentElement.clientWidth}px`)}function setDimensionVariables(){setViewportHeight(),setHeaderHeight(),setScrollbarWidth()}function setImageSources(e){let t=e=>{e.dataset.src&&!e.src&&(e.src=e.dataset.src),e.dataset.srcset&&!e.srcset&&(e.srcset=e.dataset.srcset)};"PICTURE"===e.parentNode.tagName?Array.from(e.parentNode.children).forEach(e=>{t(e)}):t(e)}function initLazyImages(){if("loading"in HTMLImageElement.prototype==!1&&"IntersectionObserver"in window){let e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let s=e.target;setImageSources(s),t.unobserve(s)}})},{rootMargin:"0px 0px 500px 0px"});document.querySelectorAll('[loading="lazy"]').forEach(t=>{e.observe(t)})}else document.querySelectorAll('[loading="lazy"]').forEach(e=>{setImageSources(e)})}function initLazyScript(e,t,s=500){if("IntersectionObserver"in window){let i=new IntersectionObserver((e,s)=>{e.forEach(e=>{e.isIntersecting&&"function"==typeof t&&(t(),s.unobserve(e.target))})},{rootMargin:`0px 0px ${s}px 0px`});i.observe(e)}else t()}function pauseAllMedia(e=document){e.querySelectorAll(".js-youtube, .js-vimeo, video").forEach(e=>{let t=e.closest("video-component");t&&"true"===t.dataset.background||(e.matches(".js-youtube")?e.contentWindow.postMessage('{ "event": "command", "func": "pauseVideo", "args": "" }',"*"):e.matches(".js-vimeo")?e.contentWindow.postMessage('{ "method": "pause" }',"*"):e.pause())}),e.querySelectorAll("product-model").forEach(e=>{e.modelViewerUI&&e.modelViewerUI.pause()})}(()=>{let{mediaQueries:e}=theme;if(!e)return;let t=Object.keys(e),s={};theme.mediaMatches={};let i=()=>{let e=t.reduce((e,t)=>(e[t]=!!(s[t]&&s[t].matches),e),{});Object.keys(e).forEach(t=>{theme.mediaMatches[t]=e[t]}),window.dispatchEvent(new CustomEvent("on:breakpoint-change"))};t.forEach(t=>{s[t]=window.matchMedia(e[t]),theme.mediaMatches[t]=s[t].matches;try{s[t].addEventListener("change",i)}catch(n){s[t].addListener(i)}})})(),setDimensionVariables(),window.addEventListener("resize",debounce(setDimensionVariables,50));class DeferredMedia extends HTMLElement{constructor(){super();let e=this.querySelector(".js-load-media");e?e.addEventListener("click",this.loadContent.bind(this)):this.addObserver()}addObserver(){if("IntersectionObserver"in window==!1)return;let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(this.loadContent(!1,!1,"observer"),e.unobserve(this))})},{rootMargin:"0px 0px 1000px 0px"});e.observe(this)}loadContent(e=!0,t=!0,s="click"){if(t&&pauseAllMedia(),null!==this.getAttribute("loaded"))return;this.loadTrigger=s;let i=this.querySelector("template").content.firstElementChild.cloneNode(!0);this.appendChild(i),this.setAttribute("loaded","");let n=this.querySelector("video, model-viewer, iframe");n&&e&&n.focus()}}customElements.define("deferred-media",DeferredMedia);class DetailsDisclosure extends HTMLElement{constructor(){super(),this.disclosure=this.querySelector("details"),this.toggle=this.querySelector("summary"),this.panel=this.toggle.nextElementSibling,this.init()}init(){"0s"!==window.getComputedStyle(this.panel).transitionDuration&&(this.toggle.addEventListener("click",this.handleToggle.bind(this)),this.disclosure.addEventListener("transitionend",this.handleTransitionEnd.bind(this)))}handleToggle(e){e.preventDefault(),this.disclosure.open?this.close():this.open()}handleTransitionEnd(e){e.target===this.panel&&(this.disclosure.classList.contains("is-closing")&&(this.disclosure.classList.remove("is-closing"),this.disclosure.open=!1),this.panel.removeAttribute("style"))}addContentHeight(){this.panel.style.height=`${this.panel.scrollHeight}px`}open(){this.panel.style.height="0",this.disclosure.open=!0,this.addContentHeight()}close(){this.addContentHeight(),this.disclosure.classList.add("is-closing"),setTimeout(()=>{this.panel.style.height="0"})}}customElements.define("details-disclosure",DetailsDisclosure);const trapFocusHandlers={};function removeTrapFocus(e=null){document.removeEventListener("focusin",trapFocusHandlers.focusin),document.removeEventListener("focusout",trapFocusHandlers.focusout),document.removeEventListener("keydown",trapFocusHandlers.keydown),e&&e.focus()}function trapFocus(e,t=e){let s=Array.from(e.querySelectorAll('summary, a[href], area[href], button:not([disabled]), input:not([type=hidden]):not([disabled]), select:not([disabled]), textarea:not([disabled]), object, iframe, audio[controls], video[controls], [tabindex]:not([tabindex^="-"])')),i=s[0],n=s[s.length-1];removeTrapFocus(),trapFocusHandlers.focusin=t=>{(t.target===e||t.target===n||t.target===i)&&document.addEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.focusout=()=>{document.removeEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.keydown=t=>{"Tab"===t.code&&(t.target!==n||t.shiftKey||(t.preventDefault(),i.focus()),(t.target===e||t.target===i)&&t.shiftKey&&(t.preventDefault(),n.focus()))},document.addEventListener("focusout",trapFocusHandlers.focusout),document.addEventListener("focusin",trapFocusHandlers.focusin),(t||e).focus()}class Modal extends HTMLElement{constructor(){super(),this.addEventListener("click",this.handleClick.bind(this))}handleClick(e){(e.target===this||e.target.matches(".js-close-modal"))&&this.close()}open(e){this.scrollY=window.scrollY,document.body.classList.add("fixed"),document.body.style.top=`-${this.scrollY}px`,this.setAttribute("open",""),this.openedBy=e,trapFocus(this),window.pauseAllMedia(),this.keyupHandler=e=>"Escape"===e.key&&this.close(),this.addEventListener("keyup",this.keyupHandler)}close(){document.body.style.top="",document.body.classList.remove("fixed"),window.scrollTo(0,this.scrollY),this.removeAttribute("open"),removeTrapFocus(this.openedBy),window.pauseAllMedia(),this.removeEventListener("keyup",this.keyupHandler)}}customElements.define("modal-dialog",Modal);class ModalOpener extends HTMLElement{constructor(){super();let e=this.querySelector("button");if(!e)return;e.addEventListener("click",()=>{let t=document.getElementById(this.dataset.modal);t&&t.open(e)})}}customElements.define("modal-opener",ModalOpener);class ProductCard extends HTMLElement{constructor(){super(),window.initLazyScript(this,this.init.bind(this))}init(){this.images=this.querySelectorAll(".card__main-image"),this.links=this.querySelectorAll(".js-prod-link"),this.quickAddBtn=this.querySelector(".js-quick-add"),this.quickAddBtn?this.productUrl=this.quickAddBtn.dataset.productUrl:this.links.length&&(this.productUrl=this.links[0].href),this.addEventListener("change",this.handleSwatchChange.bind(this)),this.triggerSwatch(this)}triggerSwatch(e){let t=e.querySelector(".card__swatches");t.querySelector('input[data-checked="true"]')&&(t.querySelector('input[data-checked="true"]').click(),window.theme.settings.showPdPBottom&&window.theme.settings.paginationInfinite)&&"false"==t.querySelector('input[data-checked="true"]').getAttribute("data-available")&&(t.closest("product-card").closest("li").classList.contains("product-out-stock")||t.closest("product-card").closest("li").classList.add("product-out-stock"),t.closest("product-card")&&t.closest("product-card").classList.add("variant-out-stock"),document.querySelector(".js-pagination")?t.closest("product-card").closest("li").classList.contains("hidden")||t.closest("product-card").closest("li").classList.add("hidden"):t.closest("product-card").closest("li").classList.remove("hidden"),t.closest("product-card").closest("li").classList.contains("product-in-stock")&&t.closest("product-card").closest("li").classList.remove("product-in-stock"))}handleSwatchChange(e){if(!e.target.matches(".opt-btn"))return;if(e.target.dataset.mediaId){let t=this.querySelector(`[data-media-id="${e.target.dataset.mediaId}"]`);t&&(this.images.forEach(e=>{e.hidden=!0}),t.hidden=!1)}let s=this.productUrl.split("?").length>1?"&":"?",i=`${this.productUrl+s}variant=${e.target.dataset.variantId}`;this.links.forEach(e=>{e.href=i}),this.quickAddBtn&&(this.quickAddBtn.dataset.selectedColor=e.target.value)}}customElements.define("product-card",ProductCard);class QuantityInput extends HTMLElement{constructor(){super(),this.input=this.querySelector(".qty-input__input"),this.currentQty=this.input.value,this.changeEvent=new Event("change",{bubbles:!0}),this.addEventListener("click",this.handleClick.bind(this)),this.input.addEventListener("keydown",this.handleKeydown.bind(this))}handleClick(e){e.target.matches(".qty-input__btn")&&(e.preventDefault(),"plus"===e.target.name?this.input.stepUp():this.input.stepDown(),this.input.value!==this.currentQty&&(this.input.dispatchEvent(this.changeEvent),this.currentQty=this.input.value))}handleKeydown(e){"Enter"===e.key&&(e.preventDefault(),this.input.value!==this.currentQty&&(this.input.blur(),this.input.focus(),this.currentQty=this.input.value))}}customElements.define("quantity-input",QuantityInput);class SideDrawer extends HTMLElement{constructor(){super(),this.overlay=document.querySelector(".js-overlay")}handleClick(e){(e.target.matches(".js-close-drawer")||e.target===this.overlay)&&this.close()}open(e,t,s){this.dispatchEvent(new CustomEvent(`on:${this.dataset.name}:before-open`,{bubbles:!0})),this.scrollY=window.scrollY,document.body.classList.add("fixed"),document.body.style.top=`-${this.scrollY}px`,document.documentElement.style.height="100vh",this.overlay.classList.add("is-visible"),this.setAttribute("open",""),this.setAttribute("aria-hidden","false"),this.opener=e,trapFocus(this,t),this.clickHandler=this.clickHandler||this.handleClick.bind(this),this.keyupHandler=e=>{"Escape"!==e.key||e.target.closest(".cart-drawer-popup")||this.close()},this.addEventListener("click",this.clickHandler),this.addEventListener("keyup",this.keyupHandler),this.overlay.addEventListener("click",this.clickHandler);let i=parseFloat(getComputedStyle(this).getPropertyValue("--longest-transition-in-ms"));setTimeout(()=>{s&&s(),this.dispatchEvent(new CustomEvent(`on:${this.dataset.name}:after-open`,{bubbles:!0}))},i)}close(e){this.dispatchEvent(new CustomEvent(`on:${this.dataset.name}:before-close`,{bubbles:!0})),this.removeAttribute("open"),this.setAttribute("aria-hidden","true"),this.overlay.classList.remove("is-visible"),removeTrapFocus(this.opener),document.documentElement.style.height="",document.body.style.top="",document.body.classList.remove("fixed"),window.scrollTo(0,this.scrollY),this.removeEventListener("click",this.clickHandler),this.removeEventListener("keyup",this.keyupHandler),this.overlay.removeEventListener("click",this.clickHandler);let t=parseFloat(getComputedStyle(this).getPropertyValue("--longest-transition-in-ms"));setTimeout(()=>{e&&e(),this.dispatchEvent(new CustomEvent(`on:${this.dataset.name}:after-close`,{bubbles:!0}))},t)}}function initCssVarHeightWatch(){let e=document.querySelectorAll("[data-css-var-height]");if(e){let t=e=>{let t=e.closest("[data-css-var-height]");if(t){let s=t.dataset.cssVarHeight.split(","),i=null;s.forEach(t=>{e.matches(t.trim())&&(i=t.trim())});let n=`--${i.replace(/^([#.])/,"")}-height`;t.style.setProperty(n,`${e.getBoundingClientRect().height.toFixed(2)}px`)}},s=null;"MutationObserver"in window&&(s=new MutationObserver(debounce(e=>{let s=e[0].target.closest("[data-css-var-height]");s&&t(s.querySelector(s.dataset.cssVarHeight))}))),e.forEach(e=>{e.dataset.cssVarHeight.split(",").forEach(i=>{let n=e.querySelector(i);n&&(s&&s.observe(n,{childList:!0,attributes:!0,subtree:!0}),window.addEventListener("on:debounced-resize",()=>{let s=e.querySelector(i);s&&t(s)}),document.addEventListener("on:css-var-height:update",()=>{let s=e.querySelector(i);s&&t(s)}),t(n))})})}}customElements.define("side-drawer",SideDrawer),window.addEventListener("resize",debounce(()=>{window.dispatchEvent(new CustomEvent("on:debounced-resize"))})),document.addEventListener("DOMContentLoaded",initCssVarHeightWatch),document.addEventListener("shopify:section:load",initCssVarHeightWatch),theme.elementUtil={},theme.elementUtil.remove=e=>{e&&("function"==typeof e.remove?e.remove():e.forEach(e=>{e.remove()}))},theme.elementUtil.isInViewport=e=>{let t=e.getBoundingClientRect();return Math.round(t.top)>=0&&Math.round(t.left)>=0&&Math.round(t.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.round(t.right)<=(window.innerWidth||document.documentElement.clientWidth)},theme.storageUtil={},theme.storageUtil.set=(e,t,s)=>{s?sessionStorage.setItem(`cc-${e}`,"object"==typeof t?JSON.stringify(t):t):localStorage.setItem(`cc-${e}`,"object"==typeof t?JSON.stringify(t):t)},theme.storageUtil.get=(e,t,s)=>{let i=s?sessionStorage.getItem(`cc-${e}`):localStorage.getItem(`cc-${e}`);return t&&(i=JSON.parse(i)),i},theme.storageUtil.remove=(e,t)=>{t?sessionStorage.removeItem(e):localStorage.removeItem(e)};class StoreHeader extends HTMLElement{constructor(){super(),this.menu=this.querySelector(".main-menu__content"),this.searchToggle=this.querySelector(".js-show-search"),this.searchToggleLeft=this.querySelector(".js-show-search-left"),this.mobNavToggle=this.querySelector(".main-menu__toggle"),this.shakeyCartIcon=this.querySelector(".header__icon--cart-shake"),this.headerGroupSections=document.querySelectorAll(".shopify-section-group-header-group"),this.stickyInitialised=!1,this.stickyTransitioning=!1,this.lastScrollPos=0,this.headerTransitionSpeed=parseFloat(getComputedStyle(this).getPropertyValue("--header-transition-speed")),window.setHeaderHeight(),this.bindEvents(),this.init()}disconnectedCallback(){window.removeEventListener("on:debounced-resize",this.resizeHandler),this.breakpointChangeHandler&&window.removeEventListener("on:breakpoint-change",this.breakpointChangeHandler)}bindEvents(){if(this.resizeHandler=this.resizeHandler||this.updateHeaderHeights.bind(this),window.addEventListener("on:debounced-resize",this.resizeHandler),this.mobNavToggle.addEventListener("click",window.setHeaderHeight),this.mobNavToggle.addEventListener("click",this.setHeaderEnd.bind(this)),this.dataset.isSticky&&(this.breakpointChangeHandler=this.breakpointChangeHandler||this.init.bind(this),window.addEventListener("on:breakpoint-change",this.breakpointChangeHandler)),this.dataset.isSearchMinimised){if(this.searchToggle){this.searchToggle.addEventListener("click",this.handleSearchToggleClick.bind(this));let e=document.querySelector(".cc-announcement announcement-bar");e?document.documentElement.style.setProperty("--header-annount-height",`${e.offsetHeight}px`):document.documentElement.style.setProperty("--header-annount-height","0px");let t=document.querySelector(".shopify-section-group-header-group.cc-header");t?document.documentElement.style.setProperty("--header-cs-height",`${t.offsetHeight}px`):document.documentElement.style.setProperty("--header-cs-height","0px")}this.searchToggleLeft&&this.searchToggleLeft.addEventListener("click",this.handleSearchToggleClick.bind(this))}}init(){if(this.updateHeaderHeights(),this.dataset.isSticky&&(theme.mediaMatches.md&&!this.stickyInitialised&&(this.stickyInitialised=!0,window.addEventListener("scroll",this.handleScroll.bind(this))),setTimeout(()=>{document.querySelector(".cc-header").classList.add("cc-header--sticky")}),this.setMenuHeight(),this.setHeaderEnd()),this.shakeyCartIcon){let e=theme.storageUtil.get("shake-page-count",!1,!0);e=e?parseInt(e,10)+1:1;let t=parseInt(this.shakeyCartIcon.dataset.shakeFrequency,10);e<t?this.shakeyCartIcon.classList.remove("header__icon--cart-shake"):e=0,theme.storageUtil.set("shake-page-count",e,!0)}}handleSearchToggleClick(e){e.preventDefault();let t=this.querySelector(".js-search-bar");this.classList.contains("search-is-collapsed")?(this.classList.remove("search-is-collapsed"),setTimeout(()=>{this.classList.add("search-is-visible");let e=t.querySelector(".js-search-input");e.focus(),window.setHeaderHeight()},this.headerTransitionSpeed)):(this.classList.remove("search-is-visible"),setTimeout(()=>{this.classList.add("search-is-collapsed")}),setTimeout(window.setHeaderHeight,this.headerTransitionSpeed));let s=document.querySelector("[data-header-align]"),i=document.querySelector("body.cs-overflow-hidden");i?document.body.classList.remove("cs-overflow-hidden"):s&&document.body.classList.add("cs-overflow-hidden")}updateHeaderHeights(){if(theme.mediaMatches.md?(this.setMenuHeight(),setTimeout(window.setHeaderHeight,this.headerTransitionSpeed)):window.setHeaderHeight(),this.headerGroupSections&&this.headerGroupSections.length>0){let e=0;this.headerGroupSections.forEach(t=>{e+=t.getBoundingClientRect().height}),e>0&&document.documentElement.style.setProperty("--content-start",`${e.toFixed(1)}px`)}}setMenuHeight(){this.menu&&this.menu.clientHeight&&(this.style.setProperty("--menu-height",`${this.menu.clientHeight+16}px`),document.documentElement.style.setProperty("--header-height",`${this.clientHeight}px`))}handleScroll(){let e=document.documentElement.scrollTop;document.body.classList.contains("fixed")||this.stickyTransitioning||(document.documentElement.scrollTop<200?this.show():this.lastScrollPos<e?(this.hide(),this.addScrollClass()):this.lastScrollPos-5>e&&this.show(),this.lastScrollPos=e),0===e&&this.scrollReachedTop()}setHeaderEnd(){let e=Number(this.getBoundingClientRect().top+this.clientHeight);document.documentElement.style.setProperty("--header-end",`${e.toFixed(1)}px`),document.documentElement.style.setProperty("--header-end-padded",`${(e+(theme.mediaMatches.md?56:20)).toFixed(1)}px`)}show(){this.classList.remove("is-out"),this.stickyTransitioning=!0,setTimeout(()=>{this.lastScrollPos=document.documentElement.scrollTop,this.stickyTransitioning=!1,this.handleScroll(),this.setHeaderEnd()},300)}hide(){this.stickyTransitioning||(this.classList.add("is-out"),this.stickyTransitioning=!0,setTimeout(()=>{this.lastScrollPos=document.documentElement.scrollTop,this.stickyTransitioning=!1,this.handleScroll(),this.setHeaderEnd()},300))}scrollReachedTop(){document.documentElement.classList.remove("scroll-active")}addScrollClass(){document.documentElement.classList.add("scroll-active")}}customElements.define("store-header",StoreHeader);class MainMenu extends HTMLElement{constructor(){super(),this.mainDisclosure=this.querySelector(".main-menu__disclosure"),this.mainToggle=this.querySelector(".main-menu__toggle"),this.firstLevelMenuLinks=this.querySelectorAll(".js-nav-hover"),this.firstLevelSingleLinks=this.querySelectorAll(".main-nav__item--primary:not(.main-nav__item-content)"),this.nav=this.querySelector(".main-nav"),this.overlay=document.querySelector(".js-overlay"),this.searchIcon=document.querySelector(".header__icons .js-show-search"),this.sidebarLinks=this.querySelectorAll(".js-sidebar-hover"),this.elementsWhichCloseMenus=document.querySelectorAll(".js-closes-menu"),this.childNavOpen=!1,this.overlayOpen=!1,this.addListeners(),this.init()}disconnectedCallback(){window.removeEventListener("focusin",this.focusOutHandler),window.removeEventListener("on:breakpoint-change",this.breakpointChangeHandler),Shopify.designMode&&(document.removeEventListener("shopify:block:select",this.blockSelectHandler),document.removeEventListener("shopify:block:deselect",this.blockDeselectHandler))}addListeners(){this.focusOutHandler=this.focusOutHandler||this.handleFocusOut.bind(this),this.breakpointChangeHandler=this.breakpointChangeHandler||this.init.bind(this),this.mainDisclosure.addEventListener("transitionend",MainMenu.handleTransition.bind(this)),this.mainToggle.addEventListener("click",this.handleMainMenuToggle.bind(this)),this.nav.addEventListener("click",MainMenu.handleNavClick.bind(this)),window.addEventListener("focusin",this.focusOutHandler),window.addEventListener("on:breakpoint-change",this.breakpointChangeHandler),Shopify.designMode&&(this.blockSelectHandler=this.blockSelectHandler||this.handleBlockSelect.bind(this),this.blockDeselectHandler=this.blockDeselectHandler||this.handleBlockDeselect.bind(this),document.addEventListener("shopify:block:select",this.blockSelectHandler),document.addEventListener("shopify:block:deselect",this.blockDeselectHandler)),!theme.mediaMatches.md&&this.searchIcon&&this.searchIcon.addEventListener("click",this.closeMainDisclosure.bind(this))}init(e){if(e){if(theme.mediaMatches.md||this.childNavOpen){let t=this.nav.querySelector("details.is-open");t?this.close(t):MainMenu.open(this.mainDisclosure,!1),!this.childNavOpen&&this.overlayOpen&&this.toggleOverlay(!1)}else this.close(this.mainDisclosure),this.overlayOpen&&this.toggleOverlay(!1)}else this.mainDisclosure.open=theme.mediaMatches.md;this.querySelectorAll(".child-nav--dropdown details[open]").forEach(e=>{e.removeAttribute("open")}),theme.device.hasHover&&(this.mouseEnterMenuLinkHandler=this.mouseEnterMenuLinkHandler||this.handleMouseEnterMenuLink.bind(this),this.mouseLeaveMenuLinkHandler=this.mouseLeaveMenuLinkHandler||this.handleMouseLeaveMenuLink.bind(this),this.mouseEnterSingleLinkHandler=this.mouseEnterSingleLinkHandler||this.handleMouseEnterSingleLink.bind(this),this.mouseLeaveSingleLinkHandler=this.mouseLeaveSingleLinkHandler||this.handleMouseLeaveSingleLink.bind(this),this.mouseEnterMenuCloserHandler=this.mouseEnterMenuCloserHandler||this.handleClose.bind(this),!this.mouseOverListening&&theme.mediaMatches.md?(this.firstLevelMenuLinks.forEach(e=>{e.addEventListener("mouseenter",this.mouseEnterMenuLinkHandler),e.addEventListener("mouseleave",this.mouseLeaveMenuLinkHandler)}),this.firstLevelSingleLinks.forEach(e=>{e.addEventListener("mouseenter",this.mouseEnterSingleLinkHandler),e.addEventListener("mouseleave",this.mouseLeaveSingleLinkHandler)}),this.elementsWhichCloseMenus.forEach(e=>{e.addEventListener("mouseenter",this.mouseEnterMenuCloserHandler)}),this.mouseOverListening=!0):this.mouseOverListening&&!theme.mediaMatches.md&&(this.firstLevelMenuLinks.forEach(e=>{e.removeEventListener("mouseenter",this.mouseEnterMenuLinkHandler),e.removeEventListener("mouseleave",this.mouseLeaveMenuLinkHandler)}),this.firstLevelSingleLinks.forEach(e=>{e.removeEventListener("mouseenter",this.mouseEnterSingleLinkHandler),e.removeEventListener("mouseleave",this.mouseLeaveSingleLinkHandler)}),this.elementsWhichCloseMenus.forEach(e=>{e.removeEventListener("mouseenter",this.mouseEnterMenuCloserHandler)}),this.mouseOverListening=!1),this.sidebarLinks&&(!this.mouseOverSidebarListening&&theme.mediaMatches.md?(this.sidebarLinks.forEach(e=>{e.addEventListener("mouseenter",MainMenu.handleSidenavMenuToggle)}),this.mouseOverSidebarListening=!0):this.mouseOverSidebarListening&&!theme.mediaMatches.md&&(this.sidebarLinks.forEach(e=>{e.removeEventListener("mouseenter",MainMenu.handleSidenavMenuToggle)}),this.mouseOverSidebarListening=!1)))}handleFocusOut(e){!this.contains(e.target)&&this.overlayOpen&&this.handleClose()}static handleSidenavMenuToggle(e,t=e.target){let s=t.closest(".child-nav"),i=s.querySelector(".is-visible");i&&i.classList.remove("is-visible"),t.classList.add("is-visible");let n=t.closest("nav-menu");if(n){let r=n.querySelector(".disclosure__panel");r&&s.style.setProperty("--sidebar-height",`${Number.parseInt(r.getBoundingClientRect().height,10)}px`)}}handleMainMenuToggle(e){e.preventDefault(),this.opener=this.mainToggle,this.mainDisclosure.open?this.close(this.mainDisclosure,!0):MainMenu.open(this.mainDisclosure)}handleMouseEnterMenuLink(e){this.menuLinkTimeout=setTimeout(this.openMenuFromMouseEnter.bind(this,e.target),Number.parseInt(this.dataset.menuSensitivity,10))}handleMouseLeaveMenuLink(){this.menuLinkTimeout&&clearTimeout(this.menuLinkTimeout)}handleMouseEnterSingleLink(){this.singleLinkTimeout=setTimeout(()=>{this.handleClose()},Number.parseInt(this.dataset.menuSensitivity,10))}handleMouseLeaveSingleLink(){this.singleLinkTimeout&&clearTimeout(this.singleLinkTimeout)}openMenuFromMouseEnter(e){trapFocus(e);let t=e.closest("details");if(!t.classList.contains("is-open")){let s=this.nav.querySelector("details.is-open");s&&s!==t?this.close(s):this.toggleOverlay(!this.overlayOpen),MainMenu.open(t)}}static handleNavClick(e){let t=e.target.closest(".main-menu__content"),s=e.target;if(theme.mediaMatches.md&&s.matches(".js-sidebar-hover")&&s.closest("summary")&&(e.preventDefault(),MainMenu.handleSidenavMenuToggle(e)),e.target.href&&e.target.href.endsWith("#")&&e.preventDefault(),theme.mediaMatches.md&&!theme.device.hasHover&&!(s=e.target.closest(".js-toggle"))||!s.matches(".js-toggle,.js-back"))return;let i=s.closest("details");if(theme.mediaMatches.md&&theme.device.hasHover){i.classList.toggle("is-open");return}if(this.opener=s,s.matches(".js-toggle")){if(e.preventDefault(),theme.mediaMatches.md||t.classList.add("main-menu__content--no-focus"),i.classList.contains("is-open"))this.close(i,!0),this.childNavOpen=!1,this.toggleOverlay(!1);else{this.childNavOpen=!0;let n=this.nav.querySelector("details.is-open");n&&n!==i?this.close(n):theme.mediaMatches.md&&this.toggleOverlay(!this.overlayOpen),MainMenu.open(i)}}else s.matches(".js-back")&&(e.preventDefault(),this.close(i,!0),this.childNavOpen=!1,theme.mediaMatches.md||t.classList.remove("main-menu__content--no-focus"))}static handleTransition(e){let t=e.target.closest("details");t.classList.contains("is-closing")&&(t.classList.remove("is-closing"),t.open=!1,removeTrapFocus(),this.opener=null)}handleClose(e){if(e&&"keyup"===e.type&&"Escape"!==e.key)return;let t=theme.mediaMatches.md?this.nav.querySelector("details.is-open"):this.mainDisclosure;t&&(this.close(t,!0),this.toggleOverlay(!1),this.childNavOpen=!1)}toggleOverlay(e){this.overlayOpen=e,this.overlay.classList.toggle("overlay--nav",e),this.overlay.classList.toggle("is-visible",e),e?(this.closeHandler=this.closeHandler||this.handleClose.bind(this),this.overlay.addEventListener("click",this.closeHandler),this.nav.addEventListener("keyup",this.closeHandler),theme.mediaMatches.md&&this.overlay.addEventListener("mouseenter",this.closeHandler)):(this.overlay.removeEventListener("click",this.closeHandler),this.nav.removeEventListener("keyup",this.closeHandler),theme.mediaMatches.md&&this.overlay.removeEventListener("mouseenter",this.closeHandler))}closeMainDisclosure(){this.mainDisclosure.classList.contains("is-open")&&(this.close(this.mainDisclosure,!0),this.toggleOverlay(!1),this.childNavOpen=!1)}static open(e,t=!0){if(e.open=!0,theme.mediaMatches.md&&!e.classList.contains("js-mega-nav")){let s=e.querySelector(".main-nav__child");s.getBoundingClientRect().right>window.innerWidth&&s.classList.add("main-nav__child--offset-right");let i=e.querySelector(".child-nav--dropdown");i&&i.querySelectorAll(".main-nav__grandchild").forEach(e=>{e.style.maxWidth=`${i.clientWidth}px`})}else if(theme.mediaMatches.md&&e.querySelector(".mega-nav--sidebar")){let n=e.querySelector(".mega-nav--sidebar details[open] summary");n&&MainMenu.handleSidenavMenuToggle(null,n)}setTimeout(()=>{e.classList.remove("is-closing"),e.classList.add("is-open")}),t&&(removeTrapFocus(),trapFocus(e),(theme.mediaMatches.md||e.classList.contains("main-menu__disclosure"))&&document.body.classList.add("overflow-hidden"))}close(e,t=!0){e.classList.remove("is-open"),t?e.classList.add("is-closing"):(e.classList.remove("is-closing"),e.open=!1,removeTrapFocus(this.opener),this.opener=null),setTimeout(()=>{let t=e.querySelector(".main-nav__child--offset-right");t&&t.classList.remove("main-nav__child--offset-right")},200),(theme.mediaMatches.md||e.classList.contains("main-menu__disclosure"))&&document.body.classList.remove("overflow-hidden")}handleBlockSelect(e){let t=this.nav.querySelector("details.is-open");t&&this.close(t,!1),e.target.matches(".js-mega-nav")&&(MainMenu.open(e.target,!1),this.toggleOverlay(!0))}handleBlockDeselect(e){e.target.matches(".js-mega-nav")&&(this.close(e.target,!1),this.toggleOverlay(!1))}}customElements.define("main-menu",MainMenu);class CarouselSlider extends HTMLElement{constructor(){if(super(),this.slides=this.querySelectorAll(".slider__item"),this.slides.length<2)return;window.initLazyScript(this,this.init.bind(this))}disconnectedCallback(){window.removeEventListener("on:breakpoint-change",this.breakpointChangeHandler)}init(){this.slider=this.querySelector(".slider"),this.grid=this.querySelector(".slider__grid"),this.nav=this.querySelector(".slider-nav"),this.rtl="rtl"===document.dir,this.breakpointChangeHandler=this.breakpointChangeHandler||this.handleBreakpointChange.bind(this),this.nav&&(this.prevBtn=this.querySelector('button[name="prev"]'),this.nextBtn=this.querySelector('button[name="next"]')),this.initSlider(),window.addEventListener("on:breakpoint-change",this.breakpointChangeHandler)}initSlider(){this.getAttribute("disable-mobile")&&!window.matchMedia(theme.mediaQueries.sm).matches||this.getAttribute("disable-desktop")&&window.matchMedia(theme.mediaQueries.sm).matches?this.setAttribute("inactive",""):(this.gridWidth=this.grid.clientWidth,this.slideSpan=this.getWindowOffset(this.slides[1])-this.getWindowOffset(this.slides[0]),this.slideGap=this.slideSpan-this.slides[0].clientWidth,this.slidesPerPage=Math.round((this.gridWidth+this.slideGap)/this.slideSpan),this.slidesToScroll="page"===theme.settings.sliderItemsPerNav?this.slidesPerPage:1,this.totalPages=this.slides.length-this.slidesPerPage+1,this.setCarouselState(this.totalPages>1),this.totalPages<2||(this.sliderStart=this.getWindowOffset(this.slider),this.sliderStart||(this.sliderStart=(this.slider.clientWidth-this.gridWidth)/2),this.sliderEnd=this.sliderStart+this.gridWidth,window.matchMedia("(pointer: fine)").matches&&this.slider.classList.add("is-grabbable"),this.addListeners(),this.setButtonStates()))}addListeners(){this.nav&&(this.scrollHandler=debounce(this.handleScroll.bind(this)),this.navClickHandler=this.handleNavClick.bind(this),this.slider.addEventListener("scroll",this.scrollHandler),this.nav.addEventListener("click",this.navClickHandler)),window.matchMedia("(pointer: fine)").matches&&(this.mousedownHandler=this.handleMousedown.bind(this),this.mouseupHandler=this.handleMouseup.bind(this),this.mousemoveHandler=this.handleMousemove.bind(this),this.slider.addEventListener("mousedown",this.mousedownHandler),this.slider.addEventListener("mouseup",this.mouseupHandler),this.slider.addEventListener("mouseleave",this.mouseupHandler),this.slider.addEventListener("mousemove",this.mousemoveHandler))}removeListeners(){this.nav&&(this.slider.removeEventListener("scroll",this.scrollHandler),this.nav.removeEventListener("click",this.navClickHandler)),this.slider.removeEventListener("mousedown",this.mousedownHandler),this.slider.removeEventListener("mouseup",this.mouseupHandler),this.slider.removeEventListener("mouseleave",this.mouseupHandler),this.slider.removeEventListener("mousemove",this.mousemoveHandler)}handleScroll(){this.currentIndex=Math.round(this.slider.scrollLeft/this.slideSpan),this.setButtonStates()}handleMousedown(e){this.mousedown=!0,this.startX=e.pageX-this.sliderStart,this.scrollPos=this.slider.scrollLeft,this.slider.classList.add("is-grabbing")}handleMouseup(){this.mousedown=!1,this.slider.classList.remove("is-grabbing")}handleMousemove(e){if(!this.mousedown)return;e.preventDefault();let t=e.pageX-this.sliderStart;this.slider.scrollLeft=this.scrollPos-(t-this.startX)*2}handleNavClick(e){e.target.matches(".slider-nav__btn")&&("next"===e.target.name&&!this.rtl||"prev"===e.target.name&&this.rtl?this.scrollPos=this.slider.scrollLeft+this.slidesToScroll*this.slideSpan:this.scrollPos=this.slider.scrollLeft-this.slidesToScroll*this.slideSpan,this.slider.scrollTo({left:this.scrollPos,behavior:"smooth"}))}handleBreakpointChange(){this.removeListeners(),this.initSlider()}getWindowOffset(e){return this.rtl?window.innerWidth-e.getBoundingClientRect().right:e.getBoundingClientRect().left}getSlideVisibility(e){let t=this.getWindowOffset(e),s=Math.floor(t+this.slides[0].clientWidth);return t>=this.sliderStart&&s<=this.sliderEnd}setCarouselState(e){e?(this.removeAttribute("inactive"),this.gridWidth!==this.grid.clientWidth&&this.handleBreakpointChange()):this.setAttribute("inactive","")}setButtonStates(){(this.prevBtn||this.nextBtn)&&(this.prevBtn.disabled=this.getSlideVisibility(this.slides[0])&&0===this.slider.scrollLeft,this.nextBtn.disabled=this.getSlideVisibility(this.slides[this.slides.length-1]))}}customElements.define("carousel-slider",CarouselSlider);class ProductRecommendations extends HTMLElement{constructor(){super(),window.initLazyScript(this,this.init.bind(this),500)}async init(){let{productId:e}=this.dataset;if(e)try{let t=await fetch(`${this.dataset.url}&product_id=${e}`);if(!t.ok)throw Error(t.status);let s=document.createElement("template");s.innerHTML=await t.text();let i=s.content.querySelector("product-recommendations");i&&i.hasChildNodes()&&(this.innerHTML=i.innerHTML),window.initLazyImages()}catch(n){console.log(n)}}}customElements.define("product-recommendations",ProductRecommendations),setTimeout(()=>{requestAnimationFrame(initLazyImages)},0),window.initLazyScript=initLazyScript,document.addEventListener("keydown",e=>{"Tab"===e.code&&document.body.classList.add("tab-used")}),document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.classList.add("dom-loaded")},0),setTimeout(()=>{document.body.classList.add("dom-loaded-plus-6")},6e3),theme.settings.externalLinksNewTab&&document.addEventListener("click",e=>{let t="A"===e.target.tagName?e.target:e.target.closest("a");t&&"A"===t.tagName&&window.location.hostname!==new URL(t.href).hostname&&(t.target="_blank")}),document.addEventListener("click",e=>{"A"===e.target.tagName&&window.location.hostname===new URL(e.target.href).hostname&&e.target.href.includes("#")&&(document.getElementsByTagName("html")[0].style.scrollBehavior="smooth",setTimeout(()=>{document.getElementsByTagName("html")[0].style.scrollBehavior=""},1e3))})});class renderPriceSale extends HTMLElement{constructor(){super(),this.updatePrices(),this.startPriceUpdateInterval()}updatePrices(){let e=this.querySelector(".price-sale-tag"),t=e.parentElement.parentElement.parentElement;if(t&&t.classList.contains("card__info-inner")){let s=t.querySelectorAll(".js-option");s&&s.length>0&&s.forEach(t=>{if(t.checked){let s=t.dataset.compare,i=t.dataset.price;e.querySelector(".price__current").innerHTML=t.dataset.priceformat;let n=e.querySelector(".price__was"),r=e.querySelector(".price__discount");s&&null!=s&&void 0!=s&&parseFloat(i)<parseFloat(s)&&null!=t.dataset.compareformat&&"undefined"!=t.dataset.compareformat?(n&&(n.classList.remove("hidden"),n.innerHTML=t.dataset.compareformat),r&&(r.innerHTML=`Ahorra ${100-Math.round(100*i/s)}%`)):(n&&(n.classList.add("hidden"),n.innerHTML=""),r&&(r.innerHTML=""))}})}else if(e&&null!=e){let i=e.dataset.compare,n=e.dataset.price;if(i&&null!=i&&void 0!=i&&n&&null!=n&&void 0!=n&&parseFloat(i)>parseFloat(n)){let r=100-Math.round(100*n/i);e.closest(".product-info__sticky")?e.querySelector(".price__discount").innerHTML=`Ahorra Un ${r}%`:e.querySelector(".price__was")&&null!=e.querySelector(".price__was")&&(e.querySelector(".price__discount").innerHTML=`Ahorra ${r}%`)}}}startPriceUpdateInterval(){setInterval(()=>{this.updatePrices()},100)}}customElements.define("price-sale",renderPriceSale);